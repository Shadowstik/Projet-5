const selectedProduct=async()=>{try{const e="http://localhost:3000/api/cameras/"+location.search.substring(4);let t=await fetch(e);if(t.ok){const e=await t.json();document.getElementById("main-title").innerHTML=`${e.name}`;const n=document.getElementById("img-product");n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.name),document.getElementById("name").innerHTML=`${e.name}`,document.getElementById("price").innerHTML=`${e.price/100} €`;const o=document.getElementById("lenses");let c;e.lenses.forEach(e=>{const t=document.createElement("option");t.innerHTML=`${e}`,o.appendChild(t)}),document.getElementById("resume").innerHTML=`${e.description}`,c=null===localStorage.getItem("userCart")?[]:JSON.parse(localStorage.getItem("userCart")),(()=>{document.getElementById("add-to-cart").addEventListener("click",()=>{c.push(e),localStorage.setItem("userCart",JSON.stringify(c)),alert("Votre produit à bien été ajouté"),location.reload()})})(),document.getElementById("cart-count").innerHTML=c.length}else alert("Ce produit n'existe plus")}catch(e){console.log(e)}};selectedProduct();